---
import 'swiper/css';
import 'swiper/css/pagination';

const slides = [
  {
    id: 1,
    img: '/src/assets/images/Photography/hero-home.svg',
    align: 'center',
    title: 'Your trusted partner for premium international foods',
    subtitle:
      'We source a diverse selection of high-quality products from leading international brands and deliver it affordably in Qatar and the UAE region since 2016.',
  },
  {
    id: 2,
    img: '/src/assets/images/Photography/hero-home-2.jpg',
    overlay: 'linear-gradient(90.07deg, #75317A 0.06%, rgba(130,46,124,0.78) 52.95%, rgba(179,36,130,0) 99.93%)',
    align: 'center',
    title: 'Our legacy: trusted logistics, premium brands',
    subtitle:
      "From day one, we've specialized in robust import, distribution, and wholesale, ensuring steady supply for every scale of business in Qatar.",
  },
  {
    id: 3,
    img: '/src/assets/images/Photography/hero-home-3.jpg',
    overlay: 'linear-gradient(90.07deg, #75317A 0.06%, rgba(130,46,124,0.78) 52.95%, rgba(179,36,130,0) 99.93%)',
    align: 'center',
    title: 'New heights in supply: ISO certified quality',
    subtitle:
      'Our new ISO 22000â€“certified Dubai branch expands your reach with efficient, scalable supply solutions across the wider UAE region.',
  },
];
---

<style>
  .hero-swiper {
    width: 100%;
    height: 728px;
  }

  @media (min-width: 768px) {
    .hero-swiper {
      height: 720px;
    }
  }

  :global(.hero-swiper .swiper-slide) {
    background-size: cover;
    background-position: center;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  :global(.hero-swiper .swiper-pagination-bullet) {
    background-color: rgba(255, 255, 255, 0.5);
    opacity: 1;
    width: 12px;
    height: 12px;
  }

  :global(.hero-swiper .swiper-pagination-bullet-active) {
    background-color: white;
    width: 24px;
    border-radius: 6px;
  }

  :global(.hero-swiper .swiper-button-next),
  :global(.hero-swiper .swiper-button-prev) {
    display: none;
  }

  .slide-overlay {
    position: absolute;
    inset: 0;
  }

  .slide-content {
    position: relative;
    z-index: 10;
    color: white;
    padding: 1.5rem;
  }
</style>

<div id='heroCarouselRoot' class='hero-swiper swiper'>
  <div class='swiper-wrapper'>
    {
      slides.map((slide) => (
        <div class='swiper-slide' style={`background-image: url('${slide.img}')`}>
          <div class='slide-overlay' style={`background: ${slide.overlay}`} />
          <div
            class={`slide-content h-full flex flex-col gap-6 lg:px-24 ${
              slide.align === 'center'
                ? 'items-center md:justify-center justify-start mt-[64px] md:mt-0 text-center'
                : 'md:items-start md:justify-center items-center justify-start mt-[64px] md:mt-0 md:text-left text-center'
            }`}
          >
            <div class={`${slide.align === 'left' ? 'md:max-w-[640px] max-w-[640px]' : 'max-w-[960px]'}`}>
              <h2
                class={`font-bold ${
                  slide.align === 'center'
                    ? 'text-[32px] md:text-6xl lg:text-[64px]'
                    : 'text-[32px] md:text-5xl lg:text-[64px]'
                }`}
              >
                {slide.title}
              </h2>

              <p class='md:mt-[42px] mt-[32px] text-[20px] md:text-[24px]'>{slide.subtitle}</p>

              <div
                class={`mt-[164px] md:mt-[96px] md:mb-0 flex md:flex-row flex-col gap-[18px] md:gap-[32px] ${slide.align === 'center' ? 'justify-center items-center' : 'md:justify-start justify-center items-center'}`}
              >
                <a
                  href='/brands'
                  class='px-6 py-3 bg-white text-[#712F76] flex justify-center rounded-[32px] w-[235px] md:w-fit font-bold shadow-lg'
                  aria-label='Explore Our Products'
                >
                  Explore Our Products
                </a>

                <a
                  href='tel:+971 5047 89777'
                  class='px-5 py-3 border border-white rounded-[32px] w-[118px] bg-white bg-opacity-[50%] font-bold text-white flex justify-center'
                  aria-label='Call Us'
                >
                  Call Us
                </a>
              </div>
            </div>
          </div>
        </div>
      ))
    }
  </div>

  <div class='swiper-pagination mb-6'></div>
</div>

<script>
  import Swiper from 'swiper';
  import { Autoplay, Pagination } from 'swiper/modules';

  function initializeHeroCarousel() {
    const root = document.getElementById('heroCarouselRoot');
    if (!(root instanceof HTMLElement)) return;

    new Swiper(root, {
      modules: [Autoplay, Pagination],
      autoplay: {
        delay: 5000,
        disableOnInteraction: false,
      },
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
        dynamicBullets: false,
      },
      loop: true,
      touchRatio: 1,
      touchAngle: 45,
      keyboard: {
        enabled: true,
      },
    });
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initializeHeroCarousel);
  } else {
    initializeHeroCarousel();
  }

  document.addEventListener('astro:page-load', initializeHeroCarousel);
</script>
